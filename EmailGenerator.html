<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDD - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∏—Å–µ–º –≤ –ü–í–ó</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="ndd-styles.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø–∏—Å–µ–º */
        .split-container {
            display: flex;
            flex-direction: row;
            gap: 20px;
            margin-top: 20px;
        }
        
        .input-panel, .output-panel {
            flex: 1;
            background-color: var(--card-bg-color);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid var(--border-color);
        }
        
        .panel-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .output-panel {
            display: flex;
            flex-direction: column;
        }
        
        #generatedEmail {
            flex-grow: 1;
            background-color: var(--input-bg-color);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            margin-bottom: 15px;
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            white-space: pre-wrap;
            min-height: 200px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .copy-button {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .copy-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 152, 0, 0.3);
        }
        
        .copy-button:active {
            transform: translateY(0);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è */
        @keyframes flash {
            0% { background: var(--success-color); }
            100% { background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); }
        }
        
        .copy-success {
            animation: flash 1s ease;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω */
        @media (max-width: 768px) {
            .split-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
        <a href="https://askpl.github.io/NDD/" class="back-button" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥">
            <span>‚Üê</span>
            <span>–ù–∞–∑–∞–¥</span>
        </a>
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–≤–æ–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ -->
        <div class="header-container">
            <h1><span class="emoji">‚úâÔ∏è</span>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∏—Å–µ–º –≤ –ü–í–ó</h1>
        </div>
        
        <!-- –†–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤–≤–æ–¥ —Å–ª–µ–≤–∞, –≤—ã–≤–æ–¥ —Å–ø—Ä–∞–≤–∞ -->
        <div class="split-container">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö -->
            <div class="input-panel">
                <div class="panel-title">
                    <span class="emoji">üìù</span>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∏—Å—å–º–∞
                </div>
                
                <!-- –§–æ—Ä–º–∞ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∏—Å—å–º–∞ -->
                <div class="form-group">
                    <label for="pvzType">–¢–∏–ø –ü–í–ó:</label>
                    <select id="pvzType" onchange="updateTemplateOptions()">
                        <option value="1">–î—Ä–æ–ø–æ—Ñ—Ñ</option>
                        <option value="2">–ö–æ–Ω–µ—á–Ω—ã–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="requestType">–¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞:</label>
                    <select id="requestType" onchange="updateTemplateOptions()">
                        <option value="1">–ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç</option>
                        <option value="2">–í–æ–∑–≤—Ä–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç</option>
                        <option value="3">–ó–∞–ø—Ä–æ—Å –≤–∏–¥–µ–æ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="deliveryStatus">–°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <select id="deliveryStatus" onchange="updateReasonOptions()">
                        <option value="0">–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω</option>
                        <option value="1">–ü—Ä–∏–Ω—è—Ç</option>
                        <option value="2">–ù–µ –ø—Ä–∏–Ω—è—Ç</option>
                    </select>
                </div>
                
                <div class="form-group" id="reasonGroup">
                    <label for="reason">–ü—Ä–∏—á–∏–Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è:</label>
                    <select id="reason">
                        <option value="1">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="orderNumber">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</label>
                    <input type="text" id="orderNumber" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: OB-123456-78">
                </div>
                
                <div class="form-group">
                    <label for="orderNumberNote">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –∫ –Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                    <input type="text" id="orderNumberNote" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: (–∏ –µ—â–µ 2 –∑–∞–∫–∞–∑–∞)">
                </div>
                
                <div class="form-group">
                    <label for="pvzAddress">–ê–¥—Ä–µ—Å –ü–í–ó:</label>
                    <input type="text" id="pvzAddress" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 123">
                </div>
                
                <button onclick="generateEmail()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ</button>
            </div>
            
            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
            <div class="output-panel">
                <div class="panel-title">
                    <span class="emoji">üì®</span>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ
                </div>
                
                <div id="generatedEmail">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ".</div>
                
                <button class="copy-button" onclick="copyToClipboard()">
                    <span class="emoji">üìã</span>
                    <span>–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // –®–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º
        const templates = {
            // –û–±—â–∏–µ –±–ª–æ–∫–∏
            "0-0": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!",
            "0-1": "–°–æ–≥–ª–∞—Å–Ω–æ –ø. 2.2.10 –æ—Ñ–µ—Ä—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫. –í–∞–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –º—ã —Å–º–æ–≥–ª–∏ —É—á–µ—Å—Ç—å –≤–∞—à–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ —Å–ø–æ—Ä–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–º –æ—Ç –≤–∞—Å –æ—Ç–≤–µ—Ç –≤ —Å—Ä–æ–∫, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–Ω–µ—Å—ë—Ç –≤–∞—à –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –∑–∞–∫–∞–∑–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª—É—á–∞–µ –∏—Ö —É—Ç–µ—Ä–∏ –≤–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –≤–æ–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—É —É–±—ã—Ç–∫–∏ –≤ —Ä–∞–∑–º–µ—Ä–µ –æ—Ü–µ–Ω–æ—á–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤.\n\n–ù–µ –º–µ–Ω—è–π—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ç–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞.",
            
            // –î—Ä–æ–ø–æ—Ñ—Ñ
            "1-1-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ {orderNumber}{orderNumberNote} –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:\n1. –î–∞—Ç–∞ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞\n3. –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\n4. –ï—Å–ª–∏ –∑–∞–∫–∞–∑ —É–∂–µ –≤—ã–¥–∞–Ω, —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –≤—ã–¥–∞—á–∏",
            "1-1-1-1": "–û–±—Ä–∞—â–∞—é –≤–∞—à–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–æ –¥–∞–Ω–Ω—ã–º –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã –∑–∞–∫–∞–∑ {orderNumber}{orderNumberNote} –Ω–µ –ø—Ä–∏–Ω—è—Ç –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏.\n\n–ï—Å–ª–∏ –∑–∞–∫–∞–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–µ–Ω –≤–∞–º–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏–º–∏—Ç–µ –µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ –Ω–∞ –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏–ª–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.",
            "1-1-1-2": "–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ –≤–∞—à –ø—É–Ω–∫—Ç –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–∫–∞–∑ {orderNumber}{orderNumberNote}.\n\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—ä—è—Å–Ω–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–∞–∑–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –∑–∞–∫–∞–∑–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.",
            "1-1-2-1": "–ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤–∞—Å –æ –∑–∞–¥–µ—Ä–∂–∫–µ –≤ –æ—Ç–≥—Ä—É–∑–∫–µ –∑–∞–∫–∞–∑–∞ {orderNumber}{orderNumberNote} –≤ –≤–∞—à –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏.\n\n–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è –¥–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏: [—É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É].\n\n–ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –∑–∞–¥–µ—Ä–∂–∫—É.",
            "1-2-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ {orderNumber}{orderNumberNote} –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:\n1. –î–∞—Ç–∞ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞\n3. –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\n4. –î–∞—Ç–∞ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞",
            "1-3-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ –∑–∞–∫–∞–∑–µ {orderNumber}{orderNumberNote}, –ø–æ–ª—É—á–µ–Ω–Ω–æ–º –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ù–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:\n1. –í–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏ —Å –∫–∞–º–µ—Ä –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤ –ü–í–ó\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)\n3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞",
            
            // –ö–æ–Ω–µ—á–Ω—ã–π
            "2-1-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ {orderNumber}{orderNumberNote} –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:\n1. –î–∞—Ç–∞ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞\n3. –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\n4. –ï—Å–ª–∏ –∑–∞–∫–∞–∑ —É–∂–µ –≤—ã–¥–∞–Ω, —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –≤—ã–¥–∞—á–∏",
            "2-2-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ {orderNumber}{orderNumberNote} –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:\n1. –î–∞—Ç–∞ –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞\n3. –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç\n4. –î–∞—Ç–∞ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞",
            "2-3-0": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ –∑–∞–∫–∞–∑–µ {orderNumber}{orderNumberNote}, –ø–æ–ª—É—á–µ–Ω–Ω–æ–º –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏ –ø–æ –∞–¥—Ä–µ—Å—É: {pvzAddress}.\n\n–ù–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:\n1. –í–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏ —Å –∫–∞–º–µ—Ä –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤ –ü–í–ó\n2. –§–æ—Ç–æ –±–∏—Ä–∫–∏ –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)\n3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞"
        };
        
        // –¢–µ–º—ã –ø–∏—Å–µ–º
        const subjects = {
            "1": "–ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç. –ó–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ {orderNumber}",
            "2": "–í–æ–∑–≤—Ä–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç. –ó–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ {orderNumber}",
            "3": "–ó–∞–ø—Ä–æ—Å –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ {orderNumber}"
        };
        
        // –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
        const dropdownOptions = {
            // –ü—Ä–∏—á–∏–Ω—ã –¥–ª—è –î—Ä–æ–ø–æ—Ñ—Ñ, –ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç, –ü—Ä–∏–Ω—è—Ç
            "1-1-1": [
                { value: "1", text: "–ù–µ –ø—Ä–∏–Ω—è—Ç —Å–∏—Å—Ç–µ–º–Ω–æ" },
                { value: "2", text: "–ù–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç" }
            ],
            // –ü—Ä–∏—á–∏–Ω—ã –¥–ª—è –î—Ä–æ–ø–æ—Ñ—Ñ, –ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç, –ù–µ –ø—Ä–∏–Ω—è—Ç
            "1-1-2": [
                { value: "1", text: "–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≥—Ä—É–∑–∫–∏" }
            ]
        };
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø—Ü–∏–π –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –ø—Ä–∏—á–∏–Ω
        function updateReasonOptions() {
            const pvzType = document.getElementById("pvzType").value;
            const requestType = document.getElementById("requestType").value;
            const deliveryStatus = document.getElementById("deliveryStatus").value;
            const reasonSelect = document.getElementById("reason");
            const reasonGroup = document.getElementById("reasonGroup");
            
            // –û—á–∏—Å—Ç–∫–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
            reasonSelect.innerHTML = "";
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø—Ä–∏—á–∏–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
            const optionKey = `${pvzType}-${requestType}-${deliveryStatus}`;
            const options = dropdownOptions[optionKey];
            
            // –ï—Å–ª–∏ –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω (—Å—Ç–∞—Ç—É—Å 0), —Å–∫—Ä—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –ø—Ä–∏—á–∏–Ω—ã
            if (deliveryStatus === "0") {
                reasonGroup.style.display = "none";
                return;
            }
            
            reasonGroup.style.display = "block";
            
            // –î–æ–±–∞–≤–ª—è–µ–º placeholder –æ–ø—Ü–∏—é
            const placeholderOption = document.createElement("option");
            placeholderOption.value = "";
            placeholderOption.text = "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É";
            placeholderOption.disabled = true;
            placeholderOption.selected = true;
            reasonSelect.appendChild(placeholderOption);
            
            // –ï—Å–ª–∏ –Ω–µ—Ç –æ–ø—Ü–∏–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (!options || options.length === 0) {
                const noOption = document.createElement("option");
                noOption.value = "";
                noOption.text = "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω";
                reasonSelect.appendChild(noOption);
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏–∏
            options.forEach(option => {
                const optionElement = document.createElement("option");
                optionElement.value = option.value;
                optionElement.text = option.text;
                reasonSelect.appendChild(optionElement);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø—Ü–∏–π —à–∞–±–ª–æ–Ω–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–∏–ø–∞ –ü–í–ó –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞
        function updateTemplateOptions() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞ –±–∞–∑–æ–≤—ã–π
            document.getElementById("deliveryStatus").value = "0";
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–ø—Ü–∏–∏ –ø—Ä–∏—á–∏–Ω
            updateReasonOptions();
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∏—Å—å–º–∞
        function generateEmail() {
            const pvzType = document.getElementById("pvzType").value;
            const requestType = document.getElementById("requestType").value;
            const deliveryStatus = document.getElementById("deliveryStatus").value;
            const reason = document.getElementById("reason").value;
            const orderNumber = document.getElementById("orderNumber").value.trim();
            let orderNumberNote = document.getElementById("orderNumberNote").value.trim();
            const pvzAddress = document.getElementById("pvzAddress").value.trim();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
            if (!orderNumber) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞");
                return;
            }
            
            if (!pvzAddress) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –ü–í–ó");
                return;
            }
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ, –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–±–µ–ª –ø–µ—Ä–µ–¥ –Ω–∏–º
            if (orderNumberNote) {
                orderNumberNote = " " + orderNumberNote;
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —à–∞–±–ª–æ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
            let templateCode;
            if (deliveryStatus === "0") {
                templateCode = `${pvzType}-${requestType}-${deliveryStatus}`;
            } else {
                if (!reason) {
                    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ–±—Ä–∞—â–µ–Ω–∏—è");
                    return;
                }
                templateCode = `${pvzType}-${requestType}-${deliveryStatus}-${reason}`;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —à–∞–±–ª–æ–Ω–∞
            if (!templates[templateCode]) {
                alert(`–®–∞–±–ª–æ–Ω ${templateCode} –Ω–µ –Ω–∞–π–¥–µ–Ω`);
                return;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∏—Å—å–º–æ
            let email = templates["0-0"] + "\n\n"; // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            email += templates[templateCode] + "\n\n"; // –û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω
            email += templates["0-1"]; // –ü–æ–¥–ø–∏—Å—å
            
            // –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
            email = email.replace(/{orderNumber}/g, orderNumber);
            email = email.replace(/{orderNumberNote}/g, orderNumberNote);
            email = email.replace(/{pvzAddress}/g, pvzAddress);
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            document.getElementById("generatedEmail").textContent = email;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ–º—É –ø–∏—Å—å–º–∞
            const subject = subjects[requestType].replace(/{orderNumber}/g, orderNumber);
            console.log("–¢–µ–º–∞ –ø–∏—Å—å–º–∞: " + subject);
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyToClipboard() {
            const emailText = document.getElementById("generatedEmail").textContent;
            
            if (emailText.trim() === "–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ \"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ\".") {
                alert("–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∏—Å—å–º–æ");
                return;
            }
            
            navigator.clipboard.writeText(emailText).then(() => {
                const copyButton = document.querySelector(".copy-button");
                copyButton.classList.add("copy-success");
                
                // –í—Ä–µ–º–µ–Ω–Ω–æ –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
                const buttonText = copyButton.querySelector("span:last-child");
                const originalText = buttonText.textContent;
                buttonText.textContent = "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!";
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    buttonText.textContent = originalText;
                    copyButton.classList.remove("copy-success");
                }, 2000);
            }, (err) => {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç: ', err);
                alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–¥–µ–ª–∏—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é –∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C.");
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener("DOMContentLoaded", function() {
            updateReasonOptions();
        });
    </script>
</body>
</html>
